
import Image from 'next/image'
import { ZoomableImage } from '@/components/ui/zoomable-image'
import { InquiflyTechStackTable } from '@/components/inquifly-tech-stack-table'
import { InquiflyMetricsTable } from '@/components/inquifly-metrics-table'
import { InquiflyAIPipeline } from '@/components/inquifly-ai-pipeline'
import { SkillsDemonstrated } from '@/components/skills-demonstrated'
import { BookingAgentDemo } from '@/components/booking-agent-demo'
import { InquiflyChallengesTable } from '@/components/inquifly-challenges-table'
import { ProjectHeader } from '@/components/project-header'

export const metadata = {
  title: 'Inquifly: AI-Powered Inquiry Management for Photographers',
  description: 'From internal tool to SaaS: an AI system that reduces photographer response times from 20 minutes to 30 seconds.',
}

<div className="not-prose mb-8 overflow-hidden rounded-2xl bg-zinc-50/40 p-1 ring-1 ring-zinc-200/50 ring-inset dark:bg-zinc-950/40 dark:ring-zinc-800/50">
  <Image
    src="/inquifly.png"
    alt="Inquifly - AI-Powered Inquiry Management"
    width={1200}
    height={675}
    className="w-full rounded-xl object-cover aspect-video"
    priority
  />
</div>

# Inquifly

<ProjectHeader
  role="Product Engineer"
  timeline="Oct 2024 - Present"
  stack={["Next.js 15", "TypeScript", "Supabase", "Gemini AI", "Google Calendar API", "Stripe", "Postmark"]}
/>

---

**The invisible employee for photographers.**  
AI-powered inquiry automation that drafts responses in your voice, checks your calendar, and never sleeps. Built it for my own studio first, then productized into a multi-tenant SaaS.

<div className="not-prose my-8 flex flex-wrap justify-center gap-4 md:gap-8 text-center">
    <div className="rounded-xl bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-800 px-6 py-4">
        <div className="text-3xl font-bold text-emerald-600 dark:text-emerald-400">97%</div>
        <div className="text-sm text-emerald-700 dark:text-emerald-300">Faster Response</div>
    </div>
    <div className="rounded-xl bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-800 px-6 py-4">
        <div className="text-3xl font-bold text-emerald-600 dark:text-emerald-400">Zero</div>
        <div className="text-sm text-emerald-700 dark:text-emerald-300">Double-Bookings</div>
    </div>
    <div className="rounded-xl bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-800 px-6 py-4">
        <div className="text-3xl font-bold text-emerald-600 dark:text-emerald-400">~10hrs</div>
        <div className="text-sm text-emerald-700 dark:text-emerald-300">Saved/Month</div>
    </div>
</div>

---

## The Problem

**78% of clients book with the first photographer to respond.** Yet most photographers lose bookings because:

*   **Slow responses.** It takes 20+ minutes to read an email, check the calendar, and draft a reply.
*   **Double-booking risk.** Manual calendar checking leads to costly errors.
*   **Lost revenue.** Each slow response risks $500-5,000+ in booking value.
*   **Admin overload.** Time spent on emails is time not spent shooting.

---

## The Solution

An AI system that reads inquiry emails, checks calendar availability, and drafts personalized responses in the photographer's voice. Ready for one-click send.

**The key insight:** The AI doesn't just respond. It *understands* the inquiry, *checks* real availability, and *sounds* like the photographer.

**Core workflow:**
1.  Client emails photographer
2.  System receives inquiry (internal tool: Gmail API, SaaS: Postmark forwarding)
3.  AI extracts intent (name, date, session type)
4.  System checks Google Calendar availability
5.  AI drafts response with pricing + alternatives if booked
6.  Photographer reviews draft (internal tool: in Gmail, SaaS: in Inquifly dashboard) and sends

<ZoomableImage
  src="/inquifly/dashboard-preview-2.webp"
  alt="Inquifly inbox showing pending drafts with sender, session type, and status"
  width={1200}
  height={675}
  className="rounded-xl my-8"
/>

---

## Evolution: Internal Tool → SaaS

### Phase 1: Validate (Internal Tool)

Built a lightweight serverless system for my own studio (TRISP Studio). No database for state management. Used **Gmail Labels as a finite state machine** to track which threads had been processed.

**Try the interactive demo:**

<BookingAgentDemo />

*   **Architecture:** Vercel serverless + Gmail Pub/Sub webhooks
*   **Clever bit:** Mark threads as "claimed" *before* slow AI operations to prevent race conditions
*   **Result:** 99% faster, 62% cheaper than no-code alternatives

### Phase 2: Productize (SaaS)

With validation complete, rebuilt for multiple users:

*   **Supabase** for auth + multi-tenant data isolation
*   **Postmark** for email forwarding (privacy-friendly, no Gmail API access)
*   **Stripe** for usage-based subscriptions (Free → Founder → Creator → Pro → Studio)
*   **Knowledge base** so each photographer configures their own packages, policies, and tone

<ZoomableImage
  src="/inquifly/dashboard-preview-3.webp"
  alt="Inquifly settings page showing packages, add-ons, policies, and tone configuration"
  width={1200}
  height={675}
  className="rounded-xl my-8"
/>

---

## Technical Highlights

### Two-Stage AI Pipeline

Separating *understanding* from *generation* enables calendar lookup between stages.

<div className="not-prose my-8">
    <InquiflyAIPipeline />
</div>

**Stage 1 (Extraction):** Email → structured JSON (`{ name, date, session_type, location }`)  
**Stage 2 (Generation):** JSON + packages + policies + availability → personalized draft

### Deterministic Guardrails

AI handles language and tone. **Code handles facts.** The AI cannot invent prices. It only references the photographer's configured packages.

### Idempotency Pattern

Multiple webhooks can fire for the same email. Solution: claim the thread immediately (internal tool: Gmail labels, SaaS: header deduplication) *before* expensive AI operations.

---

## Tech Stack

<div className="not-prose my-8">
  <InquiflyTechStackTable />
</div>

---

## Impact

<ZoomableImage
  src="/inquifly/dashboard-preview-1.1.png"
  alt="Inquifly analytics dashboard showing drafts generated, time saved, processing speed, and usage patterns"
  width={1200}
  height={675}
  className="rounded-xl my-8"
/>

*The analytics dashboard tracks activity, time saved, processing speed, and usage patterns like busiest days and peak hours.*

<div className="not-prose my-8">
  <InquiflyMetricsTable />
</div>

---

## Challenges & Learnings

<div className="not-prose my-8">
  <InquiflyChallengesTable />
</div>

---

## What I'd Do Differently

*   **Email tracking.** Measure actual conversion, not just drafts sent.
*   **Mobile notifications.** Photographers check email on phones.
*   **RAG for FAQs.** Scale knowledge base beyond structured packages.
*   **A/B test tones.** Learn which styles convert better.

---

## Skills Demonstrated

<div className="not-prose my-8">
  <SkillsDemonstrated skills={[
    { name: "Full-Stack Development", evidence: "Next.js 15 + Supabase + Google APIs + Stripe" },
    { name: "AI/LLM Integration", evidence: "Two-stage Gemini pipeline with structured outputs" },
    { name: "Product Thinking", evidence: "Internal tool validation → SaaS productization, usage-based pricing" },
    { name: "API Design", evidence: "Webhook handlers, OAuth flows, rate limiting" },
    { name: "Third-Party Integrations", evidence: "Google Calendar, Gmail, Postmark, Stripe" },
  ]} />
</div>

---

**Live:** [inquifly.com](https://inquifly.com)
